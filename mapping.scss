$cellSize: 1.25em;
$thumbSize: 3.4em;
$oneCharMargin: .22;
$twoCharMargin: 0;
$thumbMargin: .04;

@mixin filter($f) {
	-webkit-filter: $f;
	-moz-filter: $f;
	-ms-filter: $f;
	-o-filter: $f;
	filter: $f;
}
@mixin border-radius($r) {
	-webkit-border-radius: $r;
	-moz-border-radius: $r;
	-ms-border-radius: $r;
	border-radius: $r;
}

@mixin positionGrid($x, $y) {
	left: $x * $cellSize;
	top: $y * $cellSize;
}

@mixin position2v($x, $y, $itemU, $itemD) {
	&:#{$itemU} {
		@include positionGrid($x, $y);
	}
	&:#{$itemD} {
		@include positionGrid($x, $y+1);
	}
}

@mixin position2h($x, $y, $itemL, $itemR) {
	&:#{$itemL} {
		@include positionGrid($x, $y);
	}
	&:#{$itemR} {
		@include positionGrid($x+2, $y);
	}
}

@mixin position3($x, $y, $itemU, $itemL, $itemR) {
	&:#{$itemU} {
		@include positionGrid(($x+1), $y);
	}
	&:#{$itemL} {
		@include positionGrid($x, ($y+1));
	}
	&:#{$itemR} {
		@include positionGrid(($x+2), ($y+1));
	}
}

@mixin position4($x, $y, $itemU, $itemL, $itemR, $itemD) {
	@include position3($x, $y, $itemU, $itemL, $itemR);
	&:#{$itemD} {
		@include positionGrid(($x+1), ($y+2));
	}
}

body {
	background-color: black;
	color: white;
	line-height: 1em;
	margin: 0;
}

div[id^="gp"] {
	font-family: monospace;
	/*
	Id:       Microsoft Controller (Vendor: 045e Product: 02d1)
	Buttons:  0A 1B 2X 3Y 4LB 5RB 6Select 7Start 8Logo 9LThumb 10RThumb
	Axes:     0LThumbX 1LThumbY 2LT 3RThumbX 4RThumbY 5RT 6DirX 7DirY
	*/

	// border: 1px solid grey;
	// margin: .5em .25em;
	// padding: .5em .25em;

	div.buttons {
		span.button {
			position: fixed;
			background: url(dot.png);
			background-repeat: no-repeat;
			background-size: 0% 0%;
			background-position: 0% 0%;
			@include filter(hue-rotate(0deg));
		}
	}
	div.axes {
		span.axis {
			position: fixed;
			display: block;
			width: $thumbSize;
			height: $thumbSize;
			border: 1px solid white;
			@include border-radius(100%);
			span {
				display: block;
				position: relative;
				background: white url(dot.png);
				@include border-radius(100%);
			}
		}
	}

	&[class="Microsoft Controller (Vendor: 045e Product: 02d1)"] {
		div.buttons {
			span.button {
				&:nth-child(1) {
				}
				&:nth-child(2) {
				}
				&:nth-child(3) {
				}
				&:nth-child(4) {
				}
				&:nth-child(5) {
				}
				&:nth-child(6) {
				}
				&:nth-child(7) {
				}
				&:nth-child(8) {
				}
				&:nth-child(9) {
				}
				&:nth-child(10) {
				}
				&:nth-child(11) {
				}
			}
		}
		div.axes {
			span.axis {
				&:nth-child(1) {
				}
				&:nth-child(2) {
				}
				&:nth-child(3) {
				}
				&:nth-child(4) {
				}
				&:nth-child(5) {
				}
				&:nth-child(6) {
				}
				&:nth-child(7) {
				}
				&:nth-child(8) {
				}
			}
		}
	}

	&[class="Xbox 360 Controller (XInput STANDARD GAMEPAD)"] {
		div.buttons {
			span.button {
				@include position4(8+$oneCharMargin, 2, nth-child(4), nth-child(3), nth-child(2), nth-child(1));
				@include position2v(1, 0, nth-child(7), nth-child(5));
				@include position2v(9, 0, nth-child(8), nth-child(6));
				@include position2h(4, 3, nth-child(9), nth-child(10));
				@include position4(2+$oneCharMargin, 5, nth-child(13), nth-child(15), nth-child(16), nth-child(14));
			}
		}
		div.axes {
			span.axis {
				&:nth-child(1) {
					@include positionGrid(0+$thumbMargin, 2);
				}
				&:nth-child(2) {
					@include positionGrid(6+$thumbMargin, 5);
				}
			}
		}
	}
}